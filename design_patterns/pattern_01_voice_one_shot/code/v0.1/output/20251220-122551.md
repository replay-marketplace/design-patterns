# Input Prompt

Tell me everything that the Python AST library can do. Sort it by high-level categories, make a list. Like bullet points. Thanks.


---

# Anthropic Response

# Python AST Library Capabilities

## **Parsing & Compilation**
- Parse Python source code into an AST (`ast.parse()`)
- Compile AST nodes into code objects (`compile()`)
- Parse expressions, statements, or full modules
- Control parsing mode (eval, exec, single)
- Handle different Python feature versions (`feature_version` parameter)

## **Tree Traversal**
- Walk through all nodes in a tree (`ast.walk()`)
- Iterate nodes recursively in no specified order
- Visit nodes with custom visitor classes (`ast.NodeVisitor`)
- Access child nodes via node fields

## **Tree Transformation**
- Modify AST nodes using transformer classes (`ast.NodeTransformer`)
- Replace nodes during traversal
- Remove nodes from the tree
- Insert new nodes
- Fix missing locations after modifications (`ast.fix_missing_locations()`)
- Copy locations from old to new nodes (`ast.copy_location()`)

## **Code Generation**
- Convert AST back to source code (`ast.unparse()`)
- Generate Python code from modified ASTs
- Reconstruct executable code

## **Node Inspection**
- Get node field names and values (`ast.iter_fields()`)
- Access child nodes (`ast.iter_child_nodes()`)
- Check node types (isinstance checks with node classes)
- Examine node attributes (lineno, col_offset, etc.)
- Dump AST structure for debugging (`ast.dump()`)
- Pretty-print with indentation

## **Node Creation**
- Create all Python AST node types programmatically
- Build expressions (BinOp, Call, Name, Constant, etc.)
- Build statements (Assign, If, For, FunctionDef, etc.)
- Build modules and bodies
- Set node attributes manually

## **Location & Metadata Management**
- Track line numbers (`lineno`, `end_lineno`)
- Track column offsets (`col_offset`, `end_col_offset`)
- Increment line numbers (`ast.increment_lineno()`)
- Propagate location info to new nodes

## **Type & Constant Handling**
- Work with literals (Constant node)
- Handle all Python types (numbers, strings, None, True, False)
- Process type hints and annotations
- Work with type parameters (Python 3.12+)

## **Validation & Analysis**
- Validate AST structure before compilation
- Analyze code statically without execution
- Check syntax correctness
- Inspect code structure programmatically

## **Expression Context Management**
- Handle Load, Store, Del contexts
- Manage expression usage contexts
- Distinguish between reading and writing variables

## **Specific Python Constructs**
- Function and class definitions
- Comprehensions (list, dict, set, generator)
- Lambda expressions
- Import statements
- Exception handling (try/except)
- Context managers (with statements)
- Async/await constructs
- Pattern matching (match/case, Python 3.10+)
- Decorators
- Operators and comparisons
