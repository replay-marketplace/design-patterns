# Input Prompt

Tell me everything that the Python AST library can do. Sort it by high-level categories, make a list. Like bullet points. Thanks.


---

# Anthropic Response

# Python AST Library Capabilities

## **Parsing & Compilation**
- Parse Python source code into an AST (`ast.parse()`)
- Compile AST nodes into code objects (`compile()`)
- Parse expressions vs statements vs modules (different modes)
- Convert source code strings to executable code through AST manipulation

## **AST Node Inspection**
- Access all node types (statements, expressions, operators, etc.)
- Inspect node fields and attributes (`ast.get_fields()`)
- Walk through AST trees (`ast.walk()` - visits all nodes)
- Iterate through child nodes (`ast.iter_child_nodes()`)
- Iterate through fields of nodes (`ast.iter_fields()`)

## **AST Transformation**
- Modify existing AST nodes (`ast.NodeTransformer`)
- Visit and transform specific node types (visitor pattern)
- Create new AST nodes programmatically
- Replace, insert, or remove nodes in the tree
- Fix missing location information (`ast.fix_missing_locations()`)
- Copy location info between nodes (`ast.copy_location()`)
- Increment line numbers (`ast.increment_lineno()`)

## **AST Traversal**
- Generic visitor pattern (`ast.NodeVisitor`)
- Custom node processing by overriding visit methods
- Depth-first traversal of the tree
- Access parent-child relationships

## **Code Generation**
- Unparse AST back to source code (`ast.unparse()` - Python 3.9+)
- Generate Python code from modified ASTs
- Pretty-print AST structure (`ast.dump()`)

## **Static Analysis**
- Analyze code structure without executing it
- Identify function definitions, class definitions, imports
- Extract literals, constants, and variable names
- Detect patterns in code (linting, style checking)
- Count complexity metrics

## **AST Node Types Access**
- Expression nodes (BinOp, Call, Name, Attribute, etc.)
- Statement nodes (Assign, For, If, FunctionDef, etc.)
- Operator nodes (Add, Sub, Mult, Eq, Lt, etc.)
- Literal nodes (Constant, Num, Str, etc.)
- Comprehension nodes (ListComp, DictComp, etc.)

## **Metadata Handling**
- Line numbers (`lineno`)
- Column offsets (`col_offset`)
- End line numbers (`end_lineno`)
- End column offsets (`end_col_offset`)
- Type comments and annotations

## **Utility Functions**
- Literal evaluation (`ast.literal_eval()` - safely evaluate strings containing Python literals)
- Get source segment from AST node (`ast.get_source_segment()`)

## **Common Use Cases**
- Code analysis and linting tools
- Code transformation and refactoring tools
- Custom code generators
- Educational tools for understanding Python syntax
- Security analysis (detecting unsafe patterns)
- Documentation generators
- Code coverage tools
- Macro systems and metaprogramming
